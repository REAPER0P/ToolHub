<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Image Cropper</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Poppins',sans-serif; }
    body {
      background: radial-gradient(circle at 20% 20%, #2a2a72, #009ffd);
      min-height: 100vh;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:20px;
      color:#fff;
    }
    .container {
      width:100%;
      max-width:500px;
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(15px);
      border-radius:25px;
      padding:25px;
      text-align:center;
      box-shadow:0 0 25px rgba(0,0,0,0.4);
    }
    .logo img {
      width:70px;
      filter: drop-shadow(0 0 8px #ffffff70);
      margin-bottom:15px;
    }
    h1 {
      font-size:2rem;
      margin-bottom:20px;
      background: linear-gradient(45deg,#fff,#d4ffec);
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    input[type="file"], select, button {
      width:100%;
      margin:10px 0;
      padding:10px 12px;
      border-radius:12px;
      border:none;
      font-size:1rem;
    }
    select { background: rgba(255,255,255,0.2); color:#fff; }
    button {
      background: linear-gradient(45deg,#00e0ff,#4be1ec);
      font-weight:600;
      cursor:pointer;
      transition:0.3s;
    }
    button:hover { background: linear-gradient(45deg,#73f7ff,#b8ffff); transform: translateY(-2px); }
    #preview {
      max-width:100%;
      border-radius:15px;
      margin-top:15px;
      box-shadow:0 0 20px rgba(255,255,255,0.2);
    }
    @media(max-width:480px){ .container{padding:20px; border-radius:20px;} h1{font-size:1.6rem;} }
  </style>
</head>
<body>
  <div class="container">
    <div class="logo">
      <img src="https://cdn-icons-png.flaticon.com/512/1829/1829586.png" alt="Cropper Logo">
    </div>
    <h1>Image Cropper</h1>

    <input type="file" id="upload" accept="image/*" style="display:none;">
    <button onclick="document.getElementById('upload').click()">ðŸ“¤ Upload Image</button>

    <img id="preview" src="" alt="Preview" style="display:none;">

    <select id="aspectRatio">
      <option value="1">1:1 (Square)</option>
      <option value="16/9">16:9</option>
      <option value="4/3">4:3</option>
      <option value="3/2">3:2</option>
      <option value="21/9">21:9</option>
    </select>

    <button onclick="applyCrop()">Apply Crop & Download</button>
  </div>

  <script>
    const upload = document.getElementById('upload');
    const preview = document.getElementById('preview');

    let originalImage = new Image();

    upload.addEventListener('change', (e)=>{
      const file = e.target.files[0];
      if(!file) return;
      const reader = new FileReader();
      reader.onload = function(event){
        originalImage.src = event.target.result;
        preview.src = event.target.result;
        preview.style.display = 'block';
      }
      reader.readAsDataURL(file);
    });

    function applyCrop(){
      if(!originalImage.src) return alert("Please upload an image first!");
      const aspectValue = document.getElementById('aspectRatio').value;
      const aspectRatio = eval(aspectValue);

      let newWidth = originalImage.width;
      let newHeight = Math.round(newWidth / aspectRatio);

      if(newHeight > originalImage.height){
        newHeight = originalImage.height;
        newWidth = Math.round(newHeight * aspectRatio);
      }

      const canvas = document.createElement('canvas');
      canvas.width = newWidth;
      canvas.height = newHeight;
      const ctx = canvas.getContext('2d');
      ctx.drawImage(originalImage, 0, 0, newWidth, newHeight);

      canvas.toBlob((blob)=>{
        const link = document.createElement('a');
        link.href = URL.createObjectURL(blob);
        link.download = 'cropped-image.png';
        document.body.appendChild(link);
        link.click();
        link.remove();
      },'image/png');
    }
  </script>
</body>
</html>
